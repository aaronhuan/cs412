<!-- 
File: mini_insta/base.html
Author: Aaron Huang (ahuan@bu.edu), 09/25/2025
Description: The base.html template provides a common structure for all pages in the application, including a navigation bar and footer.
 -->
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel = "stylesheet" href="{% static 'mini_insta_styles.css' %}">
    <title>Mini Instagram</title>
</head>
<body>
    {% if request.user.is_authenticated %}
    Logged in as: {{request.user}}
    <form action="{% url 'logout' %}" method="POST">
      {% csrf_token %}
      <button type="submit">logout</button>
    </form>
    {% else %}
    Not logged in. 
    <a href = "{% url 'login' %}"> Login</a>
    <a href = "{% url 'create_profile' %}">Sign up</a>
    {% endif %}

    <nav>
        <ul>
            <li><a href = "{% url 'show_all_profiles' %}"> All profiles</a></li>
        </ul>
    </nav>
    <main>
        {% block content%}


        {% endblock %}
    </main>
    <footer>
        {% if request.user.is_authenticated and profile.user_id == user.id%}
        <div class="footer-nav">
            <a href="{% url 'show_feed' %}" class="nav-link" aria-label="Home">
                <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M3 10.5 12 3l9 7.5v8.5a2 2 0 0 1-2 2h-4.5v-6h-5v6H5a2 2 0 0 1-2-2v-8.5Z" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                </svg>
            </a>

            <a href="{% url 'search' %}" class="nav-link" aria-label="Search">
              
              <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true">
                <circle cx="11" cy="11" r="6.5" fill="none" stroke="currentColor" stroke-width="2"/>
                <path d="M16.5 16.5 21 21" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </a>

            <a href="{% url 'create_post' %}" class="nav-link" aria-label="Create">
              <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true">
                <circle cx="12" cy="12" r="9" fill="none" stroke="currentColor" stroke-width="2"/>
                <path d="M12 8v8M8 12h8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </a>

            <a href="{% url 'show_profile' profile.pk%}" class="nav-link" aria-label="Profile">
              <img src="{{ profile.profile_image_url }}" alt="{{ profile.display_name }}" class="nav-avatar"/>
            </a>
        </div>
        {% endif %}
        <p>&copy; Aaron Huang, ahuan@bu.edu</p>
    </footer>
</body>
</html>